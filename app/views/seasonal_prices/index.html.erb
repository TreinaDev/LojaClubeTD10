
<section>
  <div class="container shadow p-2 mb-4 bg-body-tertiary rounded div-max-width">
    <h2 class="text-center">Preços Sazonais</h2>

    <div class="container div-max-width p-2" >
      <% if @seasonal_prices.any? %>

      <table class="table table-striped table-hover  mt-4 ">
        <thead>
          <tr class="text-center">
            <th><%= SeasonalPrice.human_attribute_name(:product) %></th>
            <th><%= SeasonalPrice.human_attribute_name(:start_date) %></th>
            <th><%= SeasonalPrice.human_attribute_name(:end_date) %></th>
            <th><%= SeasonalPrice.human_attribute_name(:value) %></th>
            <th>Ações</th>
            <th></th>
          </tr>
        </thead>

        <tbody class="table-group-divider">
          <% @seasonal_prices.each do |seasonal_price| %>
            <tr class="text-center">
              <td><%= link_to seasonal_price.product.name, product_path(seasonal_price.product) %></td>
              <td><%= l(seasonal_price.start_date) %></td>
              <td><%= l(seasonal_price.end_date) %></td>
              <td><%= number_to_currency(seasonal_price.value) %></td>
              <td>
                <div class="d-flex flex-row justify-content-around">
                  <%= button_to 'Editar', edit_seasonal_price_path(seasonal_price), {
                        method: :get, id: dom_id(seasonal_price), class: "btn btn-outline-secondary btn-sm",
                        disabled: (seasonal_price.ongoing? || seasonal_price.finished?) }
                  %>

                  <%= button_to 'Excluir', seasonal_price_path(seasonal_price), {
                    method: :delete, id: "delete_#{dom_id(seasonal_price)}", class: "btn btn-outline-danger btn-sm" }
                  %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      <% else %>
        <p class="text-center">Nenhum preço sazonal configurado.</p>
      <% end %>

    </div>
   </div>
</section>
