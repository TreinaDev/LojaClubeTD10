<section class="container shadow-sm p-4 my-5 bg-body-tertiary rounded">
  <h2 class="text-center">Campanhas Promocionais</h2>
  <div class="container div-max-width p-2">
    <%= link_to 'Nova Campanha Promocional', new_promotional_campaign_path, class: 'btn btn-primary' %>
  </div>
  <% if @promotional_campaigns_in_progress.any? || @promotional_campaigns_future.any? || @promotional_campaigns_finished.any? %>
    <div id="campaigns_in_progress">
      <h4 class="mt-5">Campanhas em andamento</h4>
      <% if @promotional_campaigns_in_progress.any? %>
        <table class="table table-striped table-bordered mt-3">
          <thead>
            <tr class="text-center">
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:name) %></th>
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:start_date) %></th>
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:end_date) %></th>
              <th scope="col" class="col-3"><%= Company.human_attribute_name(:brand_name) %></th>
            </tr>
          </thead>
          <tbody>
            <% @promotional_campaigns_in_progress.each do |campaign| %>
              <tr scope="row" class="text-center">
                <td><%= link_to campaign.name, campaign, class: "link-primary"%></td>
                <td><%= I18n.l(campaign.start_date) %></td>
                <td><%= I18n.l(campaign.end_date) %></td>
                <td><%= campaign.company.brand_name %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="text-center">N達o existem Campanhas em andamento</p>
      <% end %>
    </div>
    <div id="campaigns_future">
      <h4 class="mt-5">Campanhas futuras</h4>
      <% if @promotional_campaigns_future.any? %>
        <table class="table table-striped table-bordered mt-3">
          <thead>
            <tr class="text-center">
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:name) %></th>
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:start_date) %></th>
              <th scope="col" class="col-3"><%= PromotionalCampaign.human_attribute_name(:end_date) %></th>
              <th scope="col" class="col-2"><%= Company.human_attribute_name(:brand_name) %></th>
               <th scope="col" class="col-1"><%= PromotionalCampaign.human_attribute_name(:actions) %></th>
            </tr>
          </thead>
          <tbody>
            <% @promotional_campaigns_future.each do |campaign| %>
              <tr class="text-center">
                <td><%= link_to campaign.name, campaign, class: "link-primary"%></td>
                <td><%= I18n.l(campaign.start_date) %></td>
                <td><%= I18n.l(campaign.end_date) %></td>
                <td><%= campaign.company.brand_name %></td>
                <td><%= link_to 'Editar', edit_promotional_campaign_path(campaign), class: 'btn btn-outline-secondary btn-sm', id: dom_id(campaign) %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="text-center">N達o existem Campanhas futuras</p>
      <% end %>
    </div>
    <div id="campaigns_finished">
      <h4 class="mt-5">Campanhas finalizadas</h4>
      <% if @promotional_campaigns_finished.any? %>
        <table class="table table-striped table-bordered mt-3">
          <thead>
            <tr class="text-center">
              <th><%= PromotionalCampaign.human_attribute_name(:name) %></th>
              <th><%= PromotionalCampaign.human_attribute_name(:start_date) %></th>
              <th><%= PromotionalCampaign.human_attribute_name(:end_date) %></th>
              <th><%= Company.human_attribute_name(:brand_name) %></th>
            </tr>
          </thead>
          <tbody>
            <% @promotional_campaigns_finished.each do |campaign| %>
              <tr class="text-center">
                <td scope="col" class="col-3"><%= link_to campaign.name, campaign, class: "link-primary"%></td>
                <td scope="col" class="col-3"><%= I18n.l(campaign.start_date) %></td>
                <td scope="col" class="col-3"><%= I18n.l(campaign.end_date) %></td>
                <td scope="col" class="col-3"><%= campaign.company.brand_name %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="text-center">N達o existem Campanhas finalizadas</p>
      <% end %>
    </div>
  <% else %>
    <p class="text-center">N達o existem Campanhas Promocionais cadastradas</p>
  <% end %>
</section>